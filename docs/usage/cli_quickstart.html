
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>CLI Quickstart &#8212; Conservator CLI  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python API Quickstart" href="api_quickstart.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="cli-quickstart">
<h1>CLI Quickstart<a class="headerlink" href="#cli-quickstart" title="Permalink to this heading">¶</a></h1>
<p>This page assumes you already have Conservator CLI installed and configured.  If you do not,
follow the <a class="reference internal" href="installation.html"><span class="doc">Installation</span></a> instructions first.</p>
<p>This guide will show you how to perform basic operations using the CLI.
Please see the <a class="reference internal" href="api_quickstart.html"><span class="doc">Python API Quickstart</span></a> to get started using the Python API.</p>
<section id="basic-queries">
<h2>Basic Queries<a class="headerlink" href="#basic-queries" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt>There are four queryable types</dt><dd><ul class="simple">
<li><p>Collections</p></li>
<li><p>Datasets</p></li>
<li><p>Videos</p></li>
<li><p>Projects</p></li>
</ul>
</dd>
</dl>
<p>You can count them using <cite>count</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator projects count
</pre></div>
</div>
<p>If you want to count the number of results in a search query, you can
include some search text (using Conservator Advanced Search syntax):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator projects count &quot;ADAS&quot;
</pre></div>
</div>
<p>For more advanced queries (that print the actual objects), you need to specify
which fields to include or exclude. You can use the <cite>fields</cite> command to list all
fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator projects fields
</pre></div>
</div>
<p>If you don’t specify fields, Conservator CLI will ask for all possible fields. This
can take a very long time to fetch for queries with more than a few results.</p>
<p>To list the names of all projects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator projects list -i name
</pre></div>
</div>
<p>If you want to include multiple fields, separate them with a comma:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator projects list -i name,id
</pre></div>
</div>
<p>Instead of listing all objects, you can also perform searches (using Conservator Advanced
Search syntax):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator projects search &quot;ADAS&quot; -i name
</pre></div>
</div>
<p>These commands work with other types. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator datasets search &quot;ADAS&quot; -i name
</pre></div>
</div>
<p>Be careful with large queries (like listing all collections), they will
take a long time.</p>
</section>
<section id="downloading-datasets">
<h2>Downloading Datasets<a class="headerlink" href="#downloading-datasets" title="Permalink to this heading">¶</a></h2>
<p>The process for downloading a Dataset mirrors CVC.  To see the available commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator cvc --help
</pre></div>
</div>
<p>A shortcut to this command also exists:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cvc --help
</pre></div>
</div>
<p>You can clone a dataset into the current directory using its ID:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cvc clone DATASET_ID
</pre></div>
</div>
<p>Once cloned, you can download media with <code class="docutils literal notranslate"><span class="pre">cvc</span> <span class="pre">download</span></code> from within the dataset
directory.</p>
<p>Please see the <a class="reference internal" href="cvc_guide.html"><span class="doc">CVC Guide</span></a> for more details.</p>
</section>
<section id="downloading-collections">
<h2>Downloading Collections<a class="headerlink" href="#downloading-collections" title="Permalink to this heading">¶</a></h2>
<p>First, find the ID of a collection you want to download using
the website, search, etc.
Then, use <code class="docutils literal notranslate"><span class="pre">conservator</span> <span class="pre">collections</span> <span class="pre">download</span> <span class="pre">--help</span></code> to view
the available options for assets to download.</p>
<p>For instance, to download everything recursively to the current
directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator collections download ID -r -d -v -f -m
</pre></div>
</div>
</section>
<section id="downloading-media">
<h2>Downloading Media<a class="headerlink" href="#downloading-media" title="Permalink to this heading">¶</a></h2>
<p>First, find the ID of a video or image you want to download using
the website, search, etc.</p>
<p>Downloads can be done using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator videos download ID
</pre></div>
</div>
<p>To include metadata, add the <code class="docutils literal notranslate"><span class="pre">-m</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator videos download ID -m
</pre></div>
</div>
<p>If you only want metadata, use <code class="docutils literal notranslate"><span class="pre">-mo</span></code>.</p>
<p>An example for downloading a video and its metadata to the current path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator videos download hzYzQhpGMsTcEt6Xx -v
</pre></div>
</div>
<p>The same commands also work for images (just replace <code class="docutils literal notranslate"><span class="pre">videos</span></code> with
<code class="docutils literal notranslate"><span class="pre">images</span></code>).</p>
</section>
<section id="uploading-media">
<h2>Uploading Media<a class="headerlink" href="#uploading-media" title="Permalink to this heading">¶</a></h2>
<p>Media can be uploaded using the <code class="docutils literal notranslate"><span class="pre">conservator</span> <span class="pre">collections</span> <span class="pre">upload</span></code> command. This
command takes a remote collection, and a local path. Its the preferred method of
uploading media, as it has safeguards to retry failures, perform uploads in parallel,
and output status clearly. To recursively create remote collections and uploads media
from a local path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator collections upload --recursive /remote/collection/path /local/path/to/upload
</pre></div>
</div>
<p>This command has options to filter the uploaded files and behavior. For all options,
run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator collections upload --help
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, this command only accepts a directory path and can’t upload a single file
path. You would need to create a directory containing only the single file, or use
an individual media upload command as explained below.</p>
</div>
<p>Alternatively, individual Images and videos can be uploaded with the <cite>upload</cite> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator videos upload path/to/local/media.mp4 /path/on/conservator/
</pre></div>
</div>
<p>By default, the media will be uploaded with the same name as the local file.
If you want to use a different name, you can specific it using <code class="docutils literal notranslate"><span class="pre">--remote-name</span></code>
(<code class="docutils literal notranslate"><span class="pre">-r</span></code> for short):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator videos upload path/to/local/media.mp4 /path/on/conservator/ -r my_name.mp4
</pre></div>
</div>
<p>By default, the path on conservator must exist, but it can also be useful to
upload to a path that doesn’t exist. You can create any required collections
using <code class="docutils literal notranslate"><span class="pre">--create-collections</span></code> (<code class="docutils literal notranslate"><span class="pre">-c</span></code> for short):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator videos upload path/to/local/media.mp4 /path/to/create -c
</pre></div>
</div>
<p>Again, you can use these commands for uploading both videos or images.</p>
</section>
<section id="interactive-mode">
<h2>Interactive Mode<a class="headerlink" href="#interactive-mode" title="Permalink to this heading">¶</a></h2>
<p>Conservator CLI also has a powerful and useful interactive mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator interactive
</pre></div>
</div>
<p>This spawns a fake “shell” that emulates the directory structure of
Conservator. Type <code class="docutils literal notranslate"><span class="pre">conservator</span> <span class="pre">help</span></code> for a list of commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ help
Usage: $ [OPTIONS] COMMAND [ARGS]...

Commands:
  cd           Switch working directory
  collections  List child collections
  files        List file locker files
  help         Print this message
  images       List images
  info         Get information on the current collection
  ls           List collections, videos, images, and file locker files
  open         Open in browser
  pwd          Print the working directory
  tree         List child collection paths recursively
  videos       List videos
</pre></div>
</div>
<p>Use these commands to easily navigate around conservator,
download and upload files, edit metadata and tags, and
move media around.  Use <cite>–help</cite> for more information
about any specific command within the shell.</p>
</section>
<section id="multiple-configurations">
<h2>Multiple Configurations<a class="headerlink" href="#multiple-configurations" title="Permalink to this heading">¶</a></h2>
<p>Most users will only need a single Conservator config file called <code class="docutils literal notranslate"><span class="pre">default</span></code>,
which is covered in the <a class="reference internal" href="installation.html"><span class="doc">Installation</span></a> instructions. However, users who need to
use more than one Conservator configuration have a couple of different mechanisms available
for switching among them:</p>
<blockquote>
<div><ul class="simple">
<li><p>Additional config files</p></li>
<li><p>Environment variables</p></li>
</ul>
</div></blockquote>
<section id="additional-config-files">
<h3>Additional Config Files<a class="headerlink" href="#additional-config-files" title="Permalink to this heading">¶</a></h3>
<p>Additional configurations can be created in the same manner as the default config,
by just supplying a different name. For example, to create a new config file
called <code class="docutils literal notranslate"><span class="pre">testing</span></code> for a test account:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator config create testing
</pre></div>
</div>
<p>Non-default configurations can be selected in any conservator operation by adding the
<code class="docutils literal notranslate"><span class="pre">--config</span></code> option with the name of the config <em>before</em> the action (ordering of options
in the commandline matters).</p>
<p>For example, to use a previously created <code class="docutils literal notranslate"><span class="pre">testing</span></code> configuration, to see how
many projects are visible to that test account:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conservator --config testing projects count
</pre></div>
</div>
</section>
<section id="environment-variables">
<h3>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h3>
<p>If the following environment variables are exported before running
Conservator CLI, it will use them in place of the default config file</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONSERVATOR_API_KEY</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONSERVATOR_URL</span></code> (default: <a class="reference external" href="https://flirconservator.com/">https://flirconservator.com/</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONSERVATOR_MAX_RETRIES</span></code> (default: 5)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONSERVATOR_CVC_CACHE_PATH</span></code> (default: .cvc/cache)</p></li>
</ul>
</div></blockquote>
<p>Note that <code class="docutils literal notranslate"><span class="pre">CONSERVATOR_API_KEY</span></code> must be set in order to use the environment
rather than the default config file, while the others are all optional (shown
defaults used if not explicitly set). If <code class="docutils literal notranslate"><span class="pre">CONSERVATOR_API_KEY</span></code> is not set,
Conservator CLI will ignore the optional variables and simply use the
default config file.</p>
<p>Also, if the <code class="docutils literal notranslate"><span class="pre">--config</span></code> option is used to select a non-default config file,
that config file will take precedence over the environmant variables.
The <code class="docutils literal notranslate"><span class="pre">--config</span></code> option must be omitted in order to make use of environment
variables.</p>
<p>For example, to temporarily use a different account to see how many projects
are visible to that account:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ CONSERVATOR_API_KEY=&lt;key for account&gt; conservator projects count
</pre></div>
</div>
<p>However, this would use the settings from the <code class="docutils literal notranslate"><span class="pre">testing</span></code> config, and ignore the
<code class="docutils literal notranslate"><span class="pre">CONSERVATOR_API_KEY</span></code> variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ CONSERVATOR_API_KEY=&lt;key for account&gt; conservator --config testing projects count
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.webp" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">Conservator CLI</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CLI Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-queries">Basic Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloading-datasets">Downloading Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloading-collections">Downloading Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloading-media">Downloading Media</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uploading-media">Uploading Media</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interactive-mode">Interactive Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiple-configurations">Multiple Configurations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_quickstart.html">Python API Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_advanced.html">Advanced Python API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="cvc_guide.html">CVC Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="api_quickstart.html" title="next chapter">Python API Quickstart</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Teledyne FLIR LLC.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/usage/cli_quickstart.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>